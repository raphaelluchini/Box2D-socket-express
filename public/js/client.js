// Generated by CoffeeScript 1.6.3
var actions, client, currentRoom, game, nickname, socket;

socket = io.connect('http://localhost:8080/');

nickname = 'Rapha';

currentRoom = !window.location.hash ? 1 : void 0;

client = {};

game = {};

actions = {};

actions.ATTACK = "attack";

actions.SET_POSITION = "setPosition";

actions.SET_WIND = "setWind";

client.connect = function(nickname, currentRoom) {
  return socket.emit('connect', {
    nickname: nickname,
    room: currentRoom
  });
};

client.attack = function(angle, force) {
  return socket.emit('gameAction', {
    room: currentRoom,
    action: actions.ATTACK,
    angle: angle,
    force: force
  });
};

client.setPosition = function(x) {
  return socket.emit('gameAction', {
    room: currentRoom,
    action: actions.SET_POSITION,
    x: x
  });
};

client.setWind = function(angle, force) {
  return socket.emit('gameAction', {
    room: currentRoom,
    action: actions.SET_WIND,
    angle: angle,
    force: force
  });
};

client.connect(nickname, currentRoom);

socket.on('ready', function(data) {
  return console.log("Ready");
});

socket.on('gameAction', function(data) {
  if (data.action === actions.ATTACK) {
    return game.attack(data.angle, data.force);
  } else if (data.action === actions.SET_POSITION) {
    return game.setPosition(data.x);
  } else if (data.action === actions.SET_WIND) {
    return game.setWind(data.angle, data.force);
  }
});
